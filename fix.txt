5. pay status 
4. type_id, moscow
2. moscow
7. type_id

DELETE FROM schedule WHERE schedule.id in (
SELECT COUNT(schedule.id) as ticket_count, schedule.id as schedule_id, route.train_name, route.train_type, carriage.id, carriage_type.place_count
FROM schedule
INNER JOIN route ON route.id=schedule.route_id
RIGHT JOIN carriage ON carriage.schedule_id=schedule.id
RIGHT JOIN carriage_type ON carriage.carriage_type_id=carriage_type.id
INNER JOIN seat ON carriage.id=seat.carriage_id
INNER JOIN ticket ON ticket.seat_code=seat.code
WHERE schedule.planned_departure BETWEEN NOW() and NOW() + INTERVAL '24 HOURS'
GROUP BY (schedule.id, route.train_name, route.train_type, carriage.id, carriage_type.place_count)
HAVING COUNT(schedule.id) < place_count/2)


INSERT INTO seat("code", "number", "type", "carriage_id", "manufacturer") VALUES
(
"РЕЗЕРВ",
0,
999,

"Росстрой"
)

